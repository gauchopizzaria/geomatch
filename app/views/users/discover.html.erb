<h2 class="text-center mt-3">Descubra pessoas prÃ³ximas</h2>

<div class="map-page-container">
  <div id="map"></div>

  <!-- Sidebar dinÃ¢mica de usuÃ¡rios prÃ³ximos -->
  <div id="nearby-users" class="nearby-users">
    <h4>ğŸ‘¥ UsuÃ¡rios prÃ³ximos</h4>
    <ul id="users-list">
      <li class="text-center">Carregando usuÃ¡rios...</li>
    </ul>
  </div>
</div>

<!-- Popup fixo (Bottom Sheet) -->
<div id="user-popup" class="user-popup hidden">
  <div class="popup-content">
    <div class="user-info">
      <img id="popup-avatar"
           src="<%= @user&.avatar&.attached? ? url_for(@user.avatar) : '/default-avatar.png' %>"
           alt="Avatar"
           class="avatar">

      <div class="user-details">
        <h3 id="popup-username"></h3>
        <p id="popup-location"></p>
        <p id="popup-distance" class="distance"></p>
      </div>
    </div>

    <div class="popup-actions">
      <button id="like-btn" class="btn like">â¤ï¸ Curtir</button>
      <button id="message-btn" class="btn message">ğŸ’¬ Mensagem</button>
      <button id="goto-btn" class="btn go">ğŸš¶â€â™‚ï¸ Vou atÃ© vocÃª / Venha atÃ© mim</button>
    </div>
  </div>
</div>

<%= javascript_include_tag "map", type: "module" %>
